\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+cm}{/**}
\PY{c+cm}{ * Procedimiento de Bellman-Ford (llamada al algoritmo principal)}
\PY{c+cm}{ * @param G: matriz de costes del grafo conexo G.}
\PY{c+cm}{ * @param x: valor entero que representa el nodo origen.}
\PY{c+cm}{ * @return void}
\PY{c+cm}{ */}

\PY{k+kd}{public} \PY{k+kt}{void} \PY{n+nf}{Bellman\PYZus{}Ford} \PY{o}{(}\PY{k+kt}{int} \PY{o}{[}\PY{o}{]}\PY{o}{[}\PY{o}{]} \PY{n}{G}\PY{o}{,} \PY{k+kt}{int} \PY{n}{x}\PY{o}{)}
\PY{o}{\PYZob{}}
    \PY{n}{System}\PY{o}{.}\PY{n+na}{out}\PY{o}{.}\PY{n+na}{println}\PY{o}{(}\PY{l+s}{"BELLMAN-FORD"}\PY{o}{)}\PY{o}{;}

    \PY{k+kt}{int} \PY{n}{i}\PY{o}{;}
	
    \PY{k}{if}\PY{o}{(}\PY{n}{algo\PYZus{}Bellman\PYZus{}Ford}\PY{o}{(}\PY{n}{G}\PY{o}{,}\PY{n}{x}\PY{o}{)} \PY{o}{=}\PY{o}{=} \PY{k+kc}{true}\PY{o}{)}
	\PY{o}{\PYZob{}}
	    \PY{n}{System}\PY{o}{.}\PY{n+na}{out}\PY{o}{.}\PY{n+na}{println}\PY{o}{(}\PY{l+s}{"Camino de Bellman-Ford"}\PY{o}{)}\PY{o}{;}
	    \PY{k}{for}\PY{o}{(}\PY{n}{i}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;} \PY{n}{i} \PY{o}{<} \PY{n}{vertices}\PY{o}{.}\PY{n+na}{size}\PY{o}{(}\PY{o}{)}\PY{o}{;} \PY{o}{+}\PY{o}{+}\PY{n}{i}\PY{o}{)}
		\PY{n}{System}\PY{o}{.}\PY{n+na}{out}\PY{o}{.}\PY{n+na}{println}\PY{o}{(}\PY{l+s}{"Arista:"}\PY{o}{+}\PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{i}\PY{o}{)}\PY{o}{.}\PY{n+na}{toString}\PY{o}{(}\PY{o}{)}\PY{o}{)}\PY{o}{;}

	\PY{o}{\PYZcb{}}
	
\PY{o}{\PYZcb{}}


\PY{c+cm}{/**}
\PY{c+cm}{ * Método observador (Algoritmo de Bellman-Ford)}
\PY{c+cm}{ * Devuelve en un valor booelano que servirá para saber}
\PY{c+cm}{ * si el grafo tiene un camino posible a través de dicho}
\PY{c+cm}{ * algoritmo.}
\PY{c+cm}{ * @param G: matriz de costes del grafo conexo G.}
\PY{c+cm}{ * @param origen: valor entero que representa el vértice de partida}
\PY{c+cm}{ * para el algoritmo.}
\PY{c+cm}{ * @return devuelve un valor booleano que servirá para comprobar}
\PY{c+cm}{ * si se ha encontrado un posible ciclo de pesos negativos desde}
\PY{c+cm}{ * el vértice origen (true) o no (false).}
\PY{c+cm}{ */}

\PY{k+kd}{private} \PY{k+kt}{boolean} \PY{n+nf}{algo\PYZus{}Bellman\PYZus{}Ford}\PY{o}{(}\PY{k+kt}{int} \PY{o}{[}\PY{o}{]}\PY{o}{[}\PY{o}{]} \PY{n}{G}\PY{o}{,} \PY{k+kt}{int} \PY{n}{origen}\PY{o}{)}
\PY{o}{\PYZob{}}

    \PY{k+kt}{int} \PY{n}{i}\PY{o}{,}\PY{n}{j}\PY{o}{;}

    \PY{n}{ArrayList}\PY{o}{<}\PY{n}{Arista}\PY{o}{>} \PY{n}{edges} \PY{o}{=} \PY{k}{new} \PY{n}{ArrayList}\PY{o}{<}\PY{n}{Arista}\PY{o}{>}\PY{o}{(}\PY{o}{)}\PY{o}{;}
    \PY{n}{Arista} \PY{n}{edge} \PY{o}{=} \PY{k}{new} \PY{n}{Arista}\PY{o}{(}\PY{o}{)}\PY{o}{;}

    \PY{n}{vertices} \PY{o}{=} \PY{k}{new} \PY{n}{HashMap}\PY{o}{<}\PY{n}{Integer}\PY{o}{,}\PY{n}{Arista}\PY{o}{>}\PY{o}{(}\PY{o}{)}\PY{o}{;}

    \PY{c+cm}{/* Por defecto se colocará a 0}
\PY{c+cm}{       el valor del nodo o vértice}
\PY{c+cm}{       origen desde el que parte}
\PY{c+cm}{       el procesamiento del }
\PY{c+cm}{       algoritmo.}
\PY{c+cm}{    */}
	
    \PY{k}{for}\PY{o}{(}\PY{n}{i}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;} \PY{n}{i} \PY{o}{<} \PY{n}{G}\PY{o}{.}\PY{n+na}{length}\PY{o}{;} \PY{o}{+}\PY{o}{+}\PY{n}{i}\PY{o}{)}
	\PY{o}{\PYZob{}}
	    \PY{n}{Arista} \PY{n}{a} \PY{o}{=} \PY{k}{new} \PY{n}{Arista}\PY{o}{(}\PY{o}{)}\PY{o}{;}
	    \PY{n}{a}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{l+m+mi}{1000}\PY{o}{)}\PY{o}{;} 
	    \PY{c+cm}{/*}
\PY{c+cm}{	      Representamos el coste del vértice}
\PY{c+cm}{	      usando el campo coste de la clase}
\PY{c+cm}{	      Arista.}
\PY{c+cm}{	    */}

	    \PY{k}{if}\PY{o}{(}\PY{n}{i} \PY{o}{=}\PY{o}{=} \PY{n}{origen}\PY{o}{)}
		\PY{o}{\PYZob{}}
		    \PY{n}{a}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{l+m+mi}{0}\PY{o}{)}\PY{o}{;}
		    \PY{n}{vertices}\PY{o}{.}\PY{n+na}{put}\PY{o}{(}\PY{n}{i}\PY{o}{,}\PY{n}{a}\PY{o}{)}\PY{o}{;}
		\PY{o}{\PYZcb{}}
	    \PY{k}{else}
		\PY{n}{vertices}\PY{o}{.}\PY{n+na}{put}\PY{o}{(}\PY{n}{i}\PY{o}{,}\PY{n}{a}\PY{o}{)}\PY{o}{;}
	\PY{o}{\PYZcb{}}

    \PY{k}{for}\PY{o}{(}\PY{n}{i}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;} \PY{n}{i} \PY{o}{<} \PY{n}{G}\PY{o}{.}\PY{n+na}{length}\PY{o}{;} \PY{o}{+}\PY{o}{+}\PY{n}{i}\PY{o}{)}
	\PY{o}{\PYZob{}}
	    \PY{k}{for}\PY{o}{(}\PY{n}{j}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;} \PY{n}{j} \PY{o}{<} \PY{n}{G}\PY{o}{.}\PY{n+na}{length}\PY{o}{;} \PY{o}{+}\PY{o}{+}\PY{n}{j}\PY{o}{)}
		\PY{o}{\PYZob{}}
		    \PY{k}{if}\PY{o}{(}\PY{n}{G}\PY{o}{[}\PY{n}{i}\PY{o}{]}\PY{o}{[}\PY{n}{j}\PY{o}{]} \PY{o}{!}\PY{o}{=} \PY{l+m+mi}{0} \PY{o}{&}\PY{o}{&} \PY{n}{G}\PY{o}{[}\PY{n}{i}\PY{o}{]}\PY{o}{[}\PY{n}{j}\PY{o}{]} \PY{o}{<} \PY{l+m+mi}{100}\PY{o}{)}
			\PY{o}{\PYZob{}}
			    \PY{n}{edge} \PY{o}{=} \PY{k}{new} \PY{n}{Arista}\PY{o}{(}\PY{o}{)}\PY{o}{;}
			    \PY{n}{edge}\PY{o}{.}\PY{n+na}{v\PYZus{}origen}\PY{o}{(}\PY{n}{i}\PY{o}{)}\PY{o}{;}
			    \PY{n}{edge}\PY{o}{.}\PY{n+na}{v\PYZus{}destino}\PY{o}{(}\PY{n}{j}\PY{o}{)}\PY{o}{;}
			    \PY{n}{edge}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{n}{G}\PY{o}{[}\PY{n}{i}\PY{o}{]}\PY{o}{[}\PY{n}{j}\PY{o}{]}\PY{o}{)}\PY{o}{;}
			    \PY{n}{edges}\PY{o}{.}\PY{n+na}{add}\PY{o}{(}\PY{n}{edge}\PY{o}{)}\PY{o}{;}
			\PY{o}{\PYZcb{}}
		\PY{o}{\PYZcb{}}
	\PY{o}{\PYZcb{}}

    \PY{k+kt}{int} \PY{n}{suma}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;}
    \PY{k+kt}{int} \PY{n}{posicion}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;}
    \PY{k+kt}{int} \PY{n}{pos\PYZus{}u}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{,}\PY{n}{pos\PYZus{}v}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;}

    \PY{k}{for}\PY{o}{(}\PY{n}{i}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;} \PY{n}{i} \PY{o}{<} \PY{n}{vertices}\PY{o}{.}\PY{n+na}{size}\PY{o}{(}\PY{o}{)}\PY{o}{;} \PY{o}{+}\PY{o}{+}\PY{n}{i}\PY{o}{)}
	\PY{o}{\PYZob{}}
	    \PY{k}{for}\PY{o}{(}\PY{n}{j}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;} \PY{n}{j} \PY{o}{<} \PY{n}{edges}\PY{o}{.}\PY{n+na}{size}\PY{o}{(}\PY{o}{)}\PY{o}{;} \PY{o}{+}\PY{o}{+}\PY{n}{j}\PY{o}{)}
		\PY{o}{\PYZob{}}
			
		    \PY{n}{suma} \PY{o}{=} \PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{j}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}origen}\PY{o}{(}\PY{o}{)}\PY{o}{)}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{o}{)} 
			\PY{o}{+} \PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{j}\PY{o}{)}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{o}{)}\PY{o}{;}
		    
		    \PY{k}{if}\PY{o}{(}\PY{n}{suma} 
		       \PY{o}{<} \PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{j}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}destino}\PY{o}{(}\PY{o}{)}\PY{o}{)}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{o}{)}\PY{o}{)}
			\PY{o}{\PYZob{}}
			    \PY{c+cm}{/* }
\PY{c+cm}{			       Significa que el peso del vértice es mayor}
\PY{c+cm}{			       que el peso de la arista de llegada más}
\PY{c+cm}{			       el peso del vértice origen.}
\PY{c+cm}{			    */}

			    \PY{n}{pos\PYZus{}u} \PY{o}{=} \PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{j}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}origen}\PY{o}{(}\PY{o}{)}\PY{o}{;}
			    \PY{n}{pos\PYZus{}v} \PY{o}{=} \PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{j}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}destino}\PY{o}{(}\PY{o}{)}\PY{o}{;}
				
			    \PY{k}{if}\PY{o}{(}\PY{n}{pos\PYZus{}v} \PY{o}{!}\PY{o}{=} \PY{n}{origen}\PY{o}{)}
				\PY{o}{\PYZob{}}
				    \PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{pos\PYZus{}v}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}origen}\PY{o}{(}\PY{n}{pos\PYZus{}u}\PY{o}{)}\PY{o}{;}
				    \PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{pos\PYZus{}v}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}destino}\PY{o}{(}\PY{n}{pos\PYZus{}v}\PY{o}{)}\PY{o}{;}
				    \PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{pos\PYZus{}v}\PY{o}{)}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{n}{suma}\PY{o}{)}\PY{o}{;}
				\PY{o}{\PYZcb{}}
			\PY{o}{\PYZcb{}}
			    
		\PY{o}{\PYZcb{}}
	\PY{o}{\PYZcb{}}

    \PY{k}{for}\PY{o}{(}\PY{n}{i}\PY{o}{=}\PY{l+m+mi}{0}\PY{o}{;} \PY{n}{i} \PY{o}{<} \PY{n}{edges}\PY{o}{.}\PY{n+na}{size}\PY{o}{(}\PY{o}{)}\PY{o}{;} \PY{o}{+}\PY{o}{+}\PY{n}{i}\PY{o}{)}
	\PY{o}{\PYZob{}}
	    \PY{n}{suma} \PY{o}{=} \PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{i}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}origen}\PY{o}{(}\PY{o}{)}\PY{o}{)}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{o}{)} 
		\PY{o}{+} \PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{i}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}destino}\PY{o}{(}\PY{o}{)}\PY{o}{)}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{o}{)}\PY{o}{;}

	    \PY{k}{if}\PY{o}{(}\PY{n}{vertices}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{edges}\PY{o}{.}\PY{n+na}{get}\PY{o}{(}\PY{n}{i}\PY{o}{)}\PY{o}{.}\PY{n+na}{v\PYZus{}destino}\PY{o}{(}\PY{o}{)}\PY{o}{)}\PY{o}{.}\PY{n+na}{coste}\PY{o}{(}\PY{o}{)} \PY{o}{<} \PY{n}{suma}\PY{o}{)}
		\PY{k}{return} \PY{k+kc}{true}\PY{o}{;}
	\PY{o}{\PYZcb{}}

    \PY{k}{return} \PY{k+kc}{false}\PY{o}{;}

\PY{o}{\PYZcb{}}
\end{Verbatim}
